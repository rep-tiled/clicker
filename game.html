<!DOCTYPE html>
<head>
<title>pre-alpha 1.7</title>
<link rel="stylesheet" href="game.css">
<script type="text/javascript" src="game.js"></script>
</head>
<!--body-->
<body>
    <header>
        <div class="stats">
    <h2>Money: <span id="score">0</span></h2>
    <h2>MPS: <span id ="scorePerSecond">0</span></h2>
        </div>
    </header>

    <div class ="mainClicker">
    <img src="https://i.imgur.com/EgSAdk7.png" alt="lizard" height="256" width="256" onclick="addToScore(clickingPower)" id="mainButton">
    </div>

    <!--Shop-->
    <div class="right">
        <!--buy macro-->
        <table class="shopButton" onclick="buyMacro()">
            <tr>
                <td id="nameAndCost">
                    <p>Macro</p>
                    <p><span id="macroCost">15</span> coins</p>
                </td>
                <td id="amount"><span id="macros">0</span></td>
            </tr>
        <!--buy joycon-->
        <table class ="shopButton" onclick="buyJoycon()">
            <tr>
                <td id="nameAndCost">
                    <p>Joycon Drift</p>
                    <p><span id="joyconCost">100</span> coins</p>
                </td>
                <td id="amount"><span id="joycons">0</span></td>
            </tr>
        </table>

        <!--buy joycon-->
        <div class ="shopButton" onclick="buyJoycon()">
            <tr>
                <td id="nameAndCost">
                    <p>Joycon Drift</p>
                    <p><span id="joyconCost">100</span> coins</p>
                </td>
                <td id="amount"><span id="joycons">0</span></td>
            </tr>
        </div>

    </div>

    <script>
        /*remove weirdness*/
        document.getElementById('mainButton').setAttribute('draggable', false); //anti drag

        /*setup player*/
        var score = 0;
        var scorePerSecond = 0;
        var factoryName = "Get Real";
        var clickingPower = 1;

        /*setup items*/
        macros = 0;
        joycons = 0;

        /*setup prices*/
        macroCost = 15;
        joyconCost = 100;

        /*buy*/
        function buyMacro(){
            if (score >= macroCost){
                score = score - macroCost;
                macros = macros + 1;
                macroCost = Math.round(macroCost * 1.15);
                /*visual updates*/
                document.getElementById("score").innerHTML = score;
                document.getElementById("macros").innerHTML = macros;
                document.getElementById("macroCost").innerHTML = macroCost;
                /*update score per second*/
                updateScorePerSecond();
            }
        }

        function buyJoycon(){
            if (score >= joyconCost){
                score = score - joyconCost;
                joycons = joycons + 1;
                joyconCost = Math.round(joyconCost * 1.15);
                /*visual updates*/
                document.getElementById("score").innerHTML = score;
                document.getElementById("joycons").innerHTML = joycons;
                document.getElementById("joyconCost").innerHTML = joyconCost;
                /*update score per second*/
                updateScorePerSecond();
            }
        }

        /*progress score function*/
        function addToScore(amount){
            score = score + amount;   
            document.getElementById("score").innerHTML = score;
        }

        /*MPS*/
        function updateScorePerSecond(){
            scorePerSecond = macros + (joycons * 5);
            document.getElementById("scorePerSecond").innerHTML = scorePerSecond;
        }

        /*income from items*/
        setInterval(function(){
            /*macro payload*/
            score = score + macros;
            /* joycon payload*/
            score = score + (joycons * 5);
            /*update score*/
            document.getElementById("score").innerHTML = score;
            /*update the title of page*/
            document.title = score + " score - Lizard's Clicker"
        },1000); //1000ms is 1 second
    </script>
</body>