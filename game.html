<!DOCTYPE html>
<head>
<title>egg</title>
<link rel="stylesheet" href="game.css">
</head>
<!--body-->
<body>
    <div class="left">
        <div class="stats">
    <h2>Money: <span id="score">0</span></h2>
    <h2>MPS: <span id ="scorePerSecond">0</span></h2>
        </div>
    </div>

    <div class ="mainClicker">
    <img src="https://i.imgur.com/EgSAdk7.png" alt="lizard" height="256" width="256" onclick="addToScore(clickingPower)">
    </div>

    <!--Shop-->
    <div class="right">
    <button onclick="buyMacro()"><h3>Buy macro [<span id="macroCost">15</span>]</h3><h4> owned: <span id ="macros">0</span></h4></button>
    <button onclick="buyJoycon()"><h3>Buy joycon drift [<span id="joyconCost">100</span>]</h3><h4> owned: <span id ="joycons">0</span></h4></button>
    </div>

    <script>
        /*setup player*/
        var score = 0;
        var scorePerSecond = 0;
        var factoryName = "Get Real";
        var clickingPower = 1;

        /*setup items*/
        macros = 0;
        joycons = 0;

        /*setup prices*/
        macroCost = 15;
        joyconCost = 100;

        /*buy*/
        function buyMacro(){
            if (score >= macroCost){
                score = score - macroCost;
                macros = macros + 1;
                macroCost = Math.round(macroCost * 1.15);
                /*visual updates*/
                document.getElementById("score").innerHTML = score;
                document.getElementById("macros").innerHTML = macros;
                document.getElementById("macroCost").innerHTML = macroCost;
                /*update score per second*/
                updateScorePerSecond();
            }
        }

        function buyJoycon(){
            if (score >= joyconCost){
                score = score - joyconCost;
                joycons = joycons + 1;
                joyconCost = Math.round(joyconCost * 1.15);
                /*visual updates*/
                document.getElementById("score").innerHTML = score;
                document.getElementById("joycons").innerHTML = joycons;
                document.getElementById("joyconCost").innerHTML = joyconCost;
                /*update score per second*/
                updateScorePerSecond();
            }
        }

        /*progress score function*/
        function addToScore(amount){
            score = score + amount;   
            document.getElementById("score").innerHTML = score;
        }

        /*MPS*/
        function updateScorePerSecond(){
            scorePerSecond = macros + (joycons * 5);
            document.getElementById("scorePerSecond").innerHTML = scorePerSecond;
        }

        /*income from items*/
        setInterval(function(){
            /*macro payload*/
            score = score + macros;
            /* joycon payload*/
            score = score + (joycons * 5);
            /*update score*/
            document.getElementById("score").innerHTML = score;
            /*update the title of page*/
            document.title = score + " score - Lizard's Clicker"
        },1000); //1000ms is 1 second
    </script>
</body>